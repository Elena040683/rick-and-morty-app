{"version":3,"file":"static/js/214.89eef462.chunk.js","mappings":"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","sources":["services/fetchDataApi.js","components/Pages/CharacterDetailsView.js","redux/characterDetails/operations.js","redux/characterDetails/selectors.js","components/Pages/Details.js","components/Pages/ErrorView.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst BASE_URL = 'https://rickandmortyapi.com/api';\r\naxios.defaults.baseURL = BASE_URL;\r\n\r\nexport const fetchAllCharactersApi = async (pageNumber, status, species) => {\r\n  let endpoint = `character?page=${pageNumber}&status=${status}&species=${species}`\r\n\r\n  try {\r\n    const result = await axios.get(endpoint);\r\n    const data = result.data;\r\n    if (result.status === 200) return data;\r\n    if (result.status === 400) throw new Error();\r\n  } catch (error) {\r\n    return error.massage\r\n  }\r\n}\r\n\r\nexport const fetchCardApi = async (id) => {\r\n  let endpoint = `character/${id}`\r\n\r\n  try {\r\n    const result = await axios.get(endpoint);\r\n    const data = result.data;\r\n    if (result.status === 200) return data;\r\n    if (result.status === 400) throw new Error();\r\n  } catch (error) {\r\n    return error.massage\r\n  }\r\n}\r\n","export const CharacterDetailsView = ({ data, handleClick }) => {\r\n  const { name, status, species, type, gender, origin, location, image } = data;\r\n  return (\r\n    <div className=\"container d-flex justify-content-center\">\r\n      <div className=\"d-flex flex-column gap-2\">\r\n        <header>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-primary my-2\"\r\n            onClick={handleClick}\r\n          >\r\n            back\r\n          </button>\r\n          <h2 className=\"text-center fs-3\">Character's name: {name}</h2>\r\n        </header>\r\n        <main className=\"d-flex justify-content-center flex-column w-50\">\r\n          <img src={image} alt=\"photo\" />\r\n          <div className=\"fs-6\">\r\n            <p className=\"text-center fs-6\">Status: {status}</p>\r\n            <p className=\"text-center fs-6\">\r\n              Type:\r\n              {type === '' ? ' Unknown' : type}\r\n            </p>\r\n            <p className=\"text-center fs-6\">Species: {species}</p>\r\n            <p className=\"text-center fs-6\">Gender: {gender}</p>\r\n            <p className=\"text-center fs-6\">Origin: {origin?.name}</p>\r\n            <p className=\"text-center fs-6\">Location: {location?.name}</p>\r\n          </div>\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import {\r\n  getCharacterDetailsRequest,\r\n  getCharacterDetailsSuccess,\r\n  getCharacterDetailsFailuer,\r\n} from './actions';\r\n\r\nimport axios from 'axios';\r\n\r\nconst BASE_URL = 'https://rickandmortyapi.com/api';\r\naxios.defaults.baseURL = BASE_URL;\r\n\r\nexport const getSingleCharacterDetails = id => {\r\n  return async dispatch => {\r\n    dispatch(getCharacterDetailsRequest);\r\n    try {\r\n      const response = await axios.get(`/character/${id}`);\r\n      if (response.data) {\r\n        console.log(response.data);\r\n        dispatch(getCharacterDetailsSuccess(response.data));\r\n      } else {\r\n        dispatch(getCharacterDetailsFailuer('No data recieved'));\r\n      }\r\n    } catch (error) {\r\n      alert('Sorry, something went wrong.');\r\n      dispatch(getCharacterDetailsFailuer(error.message));\r\n    }\r\n  };\r\n};\r\n","export const characterDetailsData = state => state.details.characterDetails;\r\n\r\nexport const characterDetailsLoading = state =>\r\n  state.details.characterDetailsLoading;\r\n\r\nexport const characterDetailsError = state =>\r\n  state.details.characterDetailsError;\r\n","import { useEffect, useState } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { fetchCardApi } from '../../services/fetchDataApi';\r\nimport { CharacterDetailsView } from './CharacterDetailsView';\r\nimport ErrorView from './ErrorView';\r\nimport Loader from '../Loader/Loader';\r\nimport { getSingleCharacterDetails } from '../../redux/characterDetails/operations';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  characterDetailsData,\r\n  characterDetailsLoading,\r\n  characterDetailsError,\r\n} from '../../redux/characterDetails/selectors';\r\n\r\n// const Status = {\r\n//   IDLE: 'idle',\r\n//   PENDING: 'pending',\r\n//   RESOLVED: 'resolved',\r\n//   REJECTED: 'rejected',\r\n// };\r\n\r\nconst Details = () => {\r\n  // const [characterDetails, setCharacterDetails] = useState({});\r\n  // const [error, setError] = useState(null);\r\n  // const [status, setStatus] = useState(null);\r\n\r\n  const navigate = useNavigate();\r\n  const params = useParams();\r\n  const dispatch = useDispatch();\r\n\r\n  const details = useSelector(characterDetailsData);\r\n  const isLoading = useSelector(characterDetailsLoading);\r\n  const error = useSelector(characterDetailsError);\r\n\r\n  useEffect(() => {\r\n    dispatch(getSingleCharacterDetails(params.id));\r\n    // if (!characterDetails) {\r\n    //   // Первый рендер, это пустой объект, не делаем fetch\r\n    //   return;\r\n    // }\r\n\r\n    // setStatus(Status.PENDING);\r\n\r\n    // fetchCardApi(params.id)\r\n    //   .then(res => {\r\n    //     setCharacterDetails(res);\r\n    //     setStatus(Status.RESOLVED);\r\n    //   })\r\n    //   .catch(error => {\r\n    //     setError(error.message);\r\n    //     setStatus(Status.REJECTED);\r\n    //   });\r\n  }, [params.id, dispatch]);\r\n\r\n  const handleClick = () => {\r\n    navigate('/');\r\n  };\r\n\r\n  if (isLoading) {\r\n    return <Loader />;\r\n  }\r\n\r\n  if (error) {\r\n    return <ErrorView message={error.message} />;\r\n  }\r\n\r\n  if (details) {\r\n    return <CharacterDetailsView data={details} handleClick={handleClick} />;\r\n  }\r\n};\r\n\r\nexport default Details;\r\n","import errorImage from '../../asserts/images/error.jpg';\r\n\r\nconst ErrorView = ({ message }) => {\r\n  return (\r\n    <div className=\"position-absolute top-50 start-50 translate-middle\">\r\n      <img src={errorImage} width=\"240\" alt=\"errorImage\" />\r\n      <p className=\"text-center fs-6 mb-3\">{message}</p>\r\n    </div>\r\n  );\r\n};\r\nexport default ErrorView;\r\n"],"names":["axios","defaults","baseURL","CharacterDetailsView","_ref","data","handleClick","name","status","species","type","gender","origin","location","image","_jsx","className","children","_jsxs","onClick","src","alt","characterDetailsData","state","details","characterDetails","characterDetailsLoading","characterDetailsError","Details","navigate","useNavigate","params","useParams","dispatch","useDispatch","useSelector","isLoading","error","useEffect","id","async","getCharacterDetailsRequest","response","get","concat","console","log","getCharacterDetailsSuccess","getCharacterDetailsFailuer","alert","message","Loader","ErrorView","errorImage","width"],"sourceRoot":""}